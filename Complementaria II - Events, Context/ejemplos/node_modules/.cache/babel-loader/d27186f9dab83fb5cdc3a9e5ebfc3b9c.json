{"ast":null,"code":"var _jsxFileName = \"/Users/agustinhiginio/Documents/Coderhouse/Complementaria II - Events, Context/ejemplos/src/context/CartContext.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/React.createContext();\nconst {\n  Provider\n} = CartContext;\n\nconst CartProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [cart, setCart] = React.useState([]); // addToCart\n\n  const addToCart = (item, count) => {\n    if (isInCart(item.id)) {\n      const newCart = cart.map(cartItem => {\n        if (cartItem.id === item.id) {\n          cartItem.quantity++;\n        }\n\n        return cartItem;\n      });\n      setCart(newCart);\n    } else {\n      setCart([...cart, { ...item,\n        quantity: +count\n      }]);\n    }\n  }; // removeFromCart\n\n\n  const removeFromCart = id => {\n    //Replicar logica de addToCart pero invertida \n    //y chequear la funcion a realizar cuando el quantity es 1\n    //SI LA CANTIDAD ES IGUAL A 1 HACE ESTO\n    const newCart = cart.filter(carItem => carItem.id !== id);\n    setCart(newCart); // SINO\n\n    /*  const newCart = cart.map((cartItem) => {\n        if (cartItem.id === item.id) {\n          cartItem.quantity--;\n        }\n        return cartItem;\n      });\n      setCart(newCart); */\n  }; // deleteAll\n\n\n  const deleteAll = () => {\n    setCart([]);\n  }; // isInCart\n\n\n  const isInCart = id => {\n    return cart.find(item => item.id === id);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Provider, {\n    value: {\n      addToCart,\n      removeFromCart,\n      deleteAll,\n      isInCart,\n      cart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartProvider, \"ZqFaEIYkzI5UoYUmTgmqHbYYm/0=\");\n\n_c = CartProvider;\nexport { CartContext, CartProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","CartContext","createContext","Provider","CartProvider","children","cart","setCart","useState","addToCart","item","count","isInCart","id","newCart","map","cartItem","quantity","removeFromCart","filter","carItem","deleteAll","find"],"sources":["/Users/agustinhiginio/Documents/Coderhouse/Complementaria II - Events, Context/ejemplos/src/context/CartContext.js"],"sourcesContent":["import React from \"react\"\n\nconst CartContext = React.createContext();\nconst {Provider} = CartContext\n\nconst CartProvider = ({children}) => {\n  const [cart, setCart] = React.useState([])\n  // addToCart\n  const addToCart = (item, count) => {\n    if(isInCart(item.id)) {\n      const newCart = cart.map(cartItem => {\n        if(cartItem.id === item.id) {\n          cartItem.quantity++\n        }\n        return cartItem\n      })\n      setCart(newCart)\n    }\n    else {\n      setCart([...cart, {...item, quantity: +count}])\n    }\n  }\n\n  // removeFromCart\n  const removeFromCart = (id) => {\n    //Replicar logica de addToCart pero invertida \n    //y chequear la funcion a realizar cuando el quantity es 1\n    \n    //SI LA CANTIDAD ES IGUAL A 1 HACE ESTO\n    const newCart = cart.filter((carItem) => carItem.id !== id);\n    setCart(newCart)\n\n    // SINO\n\n   /*  const newCart = cart.map((cartItem) => {\n       if (cartItem.id === item.id) {\n         cartItem.quantity--;\n       }\n       return cartItem;\n     });\n     setCart(newCart); */\n    \n  }\n  // deleteAll\n  const deleteAll = () => {\n    setCart([])\n  }\n  // isInCart\n  const isInCart = (id) => {\n    return cart.find(item => item.id === id)\n  }\n\n\n  return (\n    <Provider value={{\n      addToCart,\n      removeFromCart,\n      deleteAll,\n      isInCart,\n      cart,\n    }}>{children}</Provider>\n  )\n}\n\nexport {CartContext, CartProvider}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,gBAAGD,KAAK,CAACE,aAAN,EAApB;AACA,MAAM;EAACC;AAAD,IAAaF,WAAnB;;AAEA,MAAMG,YAAY,GAAG,QAAgB;EAAA;;EAAA,IAAf;IAACC;EAAD,CAAe;EACnC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,KAAK,CAACQ,QAAN,CAAe,EAAf,CAAxB,CADmC,CAEnC;;EACA,MAAMC,SAAS,GAAG,CAACC,IAAD,EAAOC,KAAP,KAAiB;IACjC,IAAGC,QAAQ,CAACF,IAAI,CAACG,EAAN,CAAX,EAAsB;MACpB,MAAMC,OAAO,GAAGR,IAAI,CAACS,GAAL,CAASC,QAAQ,IAAI;QACnC,IAAGA,QAAQ,CAACH,EAAT,KAAgBH,IAAI,CAACG,EAAxB,EAA4B;UAC1BG,QAAQ,CAACC,QAAT;QACD;;QACD,OAAOD,QAAP;MACD,CALe,CAAhB;MAMAT,OAAO,CAACO,OAAD,CAAP;IACD,CARD,MASK;MACHP,OAAO,CAAC,CAAC,GAAGD,IAAJ,EAAU,EAAC,GAAGI,IAAJ;QAAUO,QAAQ,EAAE,CAACN;MAArB,CAAV,CAAD,CAAP;IACD;EACF,CAbD,CAHmC,CAkBnC;;;EACA,MAAMO,cAAc,GAAIL,EAAD,IAAQ;IAC7B;IACA;IAEA;IACA,MAAMC,OAAO,GAAGR,IAAI,CAACa,MAAL,CAAaC,OAAD,IAAaA,OAAO,CAACP,EAAR,KAAeA,EAAxC,CAAhB;IACAN,OAAO,CAACO,OAAD,CAAP,CAN6B,CAQ7B;;IAED;AACH;AACA;AACA;AACA;AACA;AACA;EAEG,CAlBD,CAnBmC,CAsCnC;;;EACA,MAAMO,SAAS,GAAG,MAAM;IACtBd,OAAO,CAAC,EAAD,CAAP;EACD,CAFD,CAvCmC,CA0CnC;;;EACA,MAAMK,QAAQ,GAAIC,EAAD,IAAQ;IACvB,OAAOP,IAAI,CAACgB,IAAL,CAAUZ,IAAI,IAAIA,IAAI,CAACG,EAAL,KAAYA,EAA9B,CAAP;EACD,CAFD;;EAKA,oBACE,QAAC,QAAD;IAAU,KAAK,EAAE;MACfJ,SADe;MAEfS,cAFe;MAGfG,SAHe;MAIfT,QAJe;MAKfN;IALe,CAAjB;IAAA,UAMID;EANJ;IAAA;IAAA;IAAA;EAAA,QADF;AASD,CAzDD;;GAAMD,Y;;KAAAA,Y;AA2DN,SAAQH,WAAR,EAAqBG,YAArB"},"metadata":{},"sourceType":"module"}